<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tencent.wxcloudrun.dao.LeoCalendarMapper">

    <resultMap id="dutyRosterMapper" type="com.tencent.wxcloudrun.model.DutyRoster">
        <id property="id" column="id"/>
        <result property="name" column="name"/>
        <result property="orderNo" column="orderNo"/>
        <result property="color" column="color"/>
    </resultMap>

    <select id="getDutyRosterList" resultMap="dutyRosterMapper">
        SELECT `id`, `name`, `orderNo`, `color`
        FROM duty_roster
    </select>

    <update id="updateDutyRoster" parameterType="java.util.List">
        <foreach collection="list" item="item" index="index" open="" close="" separator=";">
            update duty_roster
            <set>
                orderNo = #{item.orderNo,jdbcType=INTEGER}
            </set>
            where id = #{item.id,jdbcType=INTEGER}
        </foreach>  
    </update>

    <resultMap id="holidaysMapper" type="com.tencent.wxcloudrun.model.Holidays">
        <id property="id" column="id"/>
        <result property="month" column="month"/>
        <result property="day" column="day"/>
        <result property="type" column="type"/>
        <result property="info" column="info"/>
    </resultMap>

    <select id="getHolidaysList" resultMap="holidaysMapper">
        SELECT `id`, `month`, `day`, `type`, `info`
        FROM holidays
    </select>

</mapper>
