<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.tencent.wxcloudrun.dao.DutyRosterMapper">

    <resultMap id="dutyRosterMapper" type="com.tencent.wxcloudrun.model.DutyRoster">
        <id property="id" column="id"/>
        <result property="name" column="name"/>
        <result property="order" column="order"/>
        <result property="color" column="color"/>
    </resultMap>

    <select id="getDutyRosterList" resultMap="dutyRosterMapper">
        SELECT `id`, `name`, `order`, `color`
        FROM duty_roster
    </select>

    <update id="updateDutyRoster" parameterType="java.util.List">
        <foreach collection="list" item="item" index="index" open="" close="" separator=";">
            <set>
                order = #{item.order,jdbcType=INTEGER}
            </set>
            where id = #{item.id,jdbcType=INTEGER}
        </foreach>
    </update>

</mapper>
